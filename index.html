<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="10W+知乎用户数据可视化项目">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>10W+知乎用户数据可视化项目</title>

  <!-- 通用库 -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/d3-v6-tip@1.0.6/build/d3-v6-tip.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/bumbeishvili/d3-tip-for-v6@4/d3-tip.min.css">
  <script src="js/layui-v2.6.8/layui/layui.js"></script>
  <link rel="stylesheet" href="js/layui-v2.6.8/layui/css/layui.css" />
  <script src="https://cdn.staticfile.org/echarts/4.7.0/echarts.min.js"></script>

  <!-- 自定义资源 -->
  <script src="js/main_control_functions.js"></script>
  <link rel="stylesheet" href="css/preview.css" />
  <link rel="stylesheet" href="css/content.css" />
</head>

<body>
  <!-- 加载动画 -->
  <div id="loading-preview-animation" class="spinner" style="z-index:999;">
    <div class="spinner-container container1">
      <div class="circle1"></div> <div class="circle2"></div> <div class="circle3"></div> <div class="circle4"></div>
    </div>
    <div class="spinner-container container2">
      <div class="circle1"></div> <div class="circle2"></div> <div class="circle3"></div> <div class="circle4"></div>
    </div>
    <div class="spinner-container container3">
      <div class="circle1"></div> <div class="circle2"></div> <div class="circle3"></div> <div class="circle4"></div>
    </div>
  </div>

  
  <!-- 整体布局 -->
  <div class="layui-layout layui-layout-admin">
    <div class="layui-header">
      <div class="layui-logo">
        <a id="header-logo" href="#/" style="color: #1E9FFF; font-weight: 800; font-size: 20px; font-family:kaiti;">10W+知乎用户可视化</a>
      </div>
      <!-- 头部区域（可配合layui 已有的水平导航） -->
      <ul class="layui-nav layui-layout-left">
        <!-- 移动端显示 -->
        <li class="layui-nav-item layui-show-xs-inline-block layui-hide-sm" lay-header-event="menuLeft">
          <i class="layui-icon layui-icon-spread-left"></i>
        </li>
        <li class="layui-nav-item layui-hide-xs"><a href="#/">首页</a></li>
        <li class="layui-nav-item layui-hide-xs"><a href="#/introduction/">简介</a></li>
        <li class="layui-nav-item">
          <a href="javascript:;">演示示例</a>
          <dl class="layui-nav-child">
            <dd><a href="#/demo1/">Demo 1: 知乎用户关注数统计（折线图）</a></dd>
            <dd><a id="test-functionality" href="#/demo2/">Demo 2: 知乎用户地理位置分布（地图）</a></dd>
            <dd><a href="#/demo3/">Demo 3</a></dd> 
          </dl>
        </li>
        <!-- <li class="layui-nav-item layui-hide-xs"><a href="javascript:;">数据探索</a></li>
        <li class="layui-nav-item">
          <a href="javascript:;">nav groups</a>
          <dl class="layui-nav-child">
            <dd><a href="">menu 11</a></dd>
            <dd><a href="">menu 22</a></dd>
            <dd><a href="">menu 33</a></dd>
          </dl>
        </li> -->
      </ul>
      <ul class="layui-nav layui-layout-right">
        <li class="layui-nav-item layui-hide layui-show-md-inline-block">
          <a href="https://cg.cs.tsinghua.edu.cn/course/vis/index.html">
            <img src="img/tsinghua-logo.jpg" style="height: 35px;">
          </a>
          <!-- <dl class="layui-nav-child">
            <dd><a href="">Your Profile</a></dd>
            <dd><a href="">Settings</a></dd>
            <dd><a href="">Sign out</a></dd>
          </dl> -->
        </li>
        <li class="layui-nav-item" lay-header-event="menuRight" lay-unselect>
          <a href="javascript:;">
            <i class="layui-icon layui-icon-more-vertical"></i>
          </a>
        </li>
      </ul>
    </div>
    
    <div class="layui-body" style="left:0px;">
      <!-- 内容主体区域 -->
      <div id="main-content-area" style="padding: 45px;">

      </div>
    </div>
    
    <div class="layui-footer" style="left:0px; visibility: hidden;">
      <!-- 底部固定区域 -->
      Aloha!
    </div>
  </div>
  <script>
  //JS 
    layui.use(['element', 'layer', 'util'], function(){
      var element = layui.element
      ,layer = layui.layer
      ,util = layui.util
      ,$ = layui.$;
      
      //头部事件
      util.event('lay-header-event', {
        //左侧菜单事件
        menuLeft: function(othis){
          layer.msg('展开左侧菜单的操作', {icon: 0});
        }
        ,menuRight: function(){
          layer.open({
            type: 1
            ,content: '<div style="padding: 15px;">处理右侧面板的操作</div>'
            ,area: ['260px', '100%']
            ,offset: 'rt' //右上角
            ,anim: 5
            ,shadeClose: true
          });
        }
      });
      
    });
  </script>

  <!-- 可视化提案  -->
  <script>
    function create_documentation(){
      $("#main-content-area").load("static_content/documentation.xml");
    }
  </script>

  <!-- 演示示例1 -->
  <script src="js/echarts_demo.js"></script>
  <script>
    var my_demo = new MyDemo();
    function create_echarts_demo_name_follower_count(){
      my_demo.create_echarts_demo_name_follower_count_at('main-content-area');
    }
  </script>  
  
  <!-- 演示示例2 -->
  <script src="js/d3_demo.js"></script>
  <script>
    var d3_demo = new D3Demo();
    function create_d3_demo_name_locations(){
      d3_demo.create_d3_demo_name_locations('main-content-area');
    }
  </script> 


  <!-- 通用功能区 -->
  <script>
    function create_homepage(){
      $("#main-content-area").load("static_content/main_page.xml");
    }

    window.addEventListener('DOMContentLoaded', function() {
      close_loading_preview();
    });
  </script>

  <!-- 初始化 -->
  <script>
    // $("#main-content-area").load("static_content/main_page.xml");

    var route_list = {
      "#/": create_homepage,
      "#/introduction/": create_documentation,
      "#/demo1/": create_echarts_demo_name_follower_count,
      "#/demo2/": create_d3_demo_name_locations,
    };
    // hash 路由
    if(window.location.hash == ""){
      window.location.hash = "/";
      route_list[window.location.hash]();
    }
    else {
      if(window.location.hash in route_list){
        route_list[window.location.hash]();
        console.log("hash:", window.location.hash);
      } else {console.log("hash not exists:", window.location.hash);}
    }
    window.addEventListener('hashchange', function() {
      if(window.location.hash in route_list){ route_list[window.location.hash]();}
      
      console.log("hashchange:", window.location.hash);
    }, false);
  </script>

  <!-- 测试专用区 -->
  <script>
    // document.getElementById("test-functionality").click();
  </script>
</body>