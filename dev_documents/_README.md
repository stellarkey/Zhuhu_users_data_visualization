# 10W+知乎用户可视化方案开发文档

数据量：`100018`。

## 主要技术

- 可视化工具
  - D3.js
    - d3-tip.js
  - Echarts.js
  - Mermaid.js
  - Grid.js
- 前端
  - *HTML + CSS + JavaScript*
  - Layerui.js
- 后端
  - *Python + Java JDK*
  - Elasticsearch
    - IK 中文分词器
  - Flask
    - Flask-CORS
  - pm2
- 哈希路由技术
  - 实现单个 HTML 文件浏览多页面的功能

## 数据清洗



## 基本可视化

### 用户分布地理位置可视化

首先根据 `locations`：地区字段的信息，对用户分类，然后在全国地图上绘制散点图（或气泡图）。使用颜色通道的深浅来表征用户密度。

### 用户教育程度、职业背景可视化

主要探索以下的列：

- `educations`：教育背景
- `employments`：职业背景
- `business`：所属领域

这些列都属于具有子结构的列。并且，一个用户可以有多个教育背景、职业背景。

主要通过条形图、词云等方式来进行可视化。并且可以对其进行少量分类后，在地理位置上通过不同颜色来进行标识。

### 用户社交统计可视化

主要对以下的数值型数据进行可视化：

- `gender`：性别
- `answer_count`：回答数
- `articles_count`：文章数
- `voteup_count`：获赞数
- `thanked_count`：感谢数
- `favorited_count`：收藏数
- `follower_count`：被关注数
- `following_count`：关注数

可以使用柱状图、折线图对排序后的结果进行展示。按数值区间划分后也可以用饼图展示等。支持一定的筛选功能。

### 用户描述词频统计

主要是对文本型字段进行处理。首先对用户的 `headline`：签名、`description`：个人描述字段进行分词，然后去除停用词，最后进行可视化。

同时支持筛选，比如：按地理位置、按教育程度筛选。

## 基础数据分析

### 知乎用户职业背景

### 知乎用户所属领域

### 知乎用户教育程度分析

### 知乎用户地域分布分析

### 知乎用户性别比例分析

### 知乎用户数值活跃度分析

## 交叉特征分析

交叉特征指多个特征混合形成的特征。



## 数据探索（动态）

数据探索页面主要提供关键词搜索功能，用户给出关键词，向 Elasticsearch 搜索引擎所在的服务器提交查询请求，服务器返回查询结果（不超过1000条相关文档）。

前端获取查询结果后，渲染成 Grid.js 形式的表格，高亮关键词。

查询结果可视为基于某个主题的小批量数据集，因而可以进一步做动态可视化。

### TF-IDF 热门词表 & 词频统计词云

显示最有代表性的词汇。

### 地理位置分布



### 用户画像（弹出层）

如何计算用户之间的相似度？可在用户画像页面推荐相似用户。






## References

- [北京大学开放研究数据平台](https://opendata.pku.edu.cn/dataverse/pku)
- http://wurui.cc/zhihu/
- https://github.com/KEN-LJQ/ZhihuSpider
- https://www.jianshu.com/p/962bc581e03a